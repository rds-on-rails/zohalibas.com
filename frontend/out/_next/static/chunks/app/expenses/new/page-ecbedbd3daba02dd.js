(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{7444:function(e,s,l){Promise.resolve().then(l.bind(l,2131))},2131:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return NewExpensePage}});var t=l(7437),a=l(2265),n=l(1396),i=l.n(n),r=l(4300);function NewExpensePage(){let[e,s]=a.useState(null),[l,n]=a.useState("General"),[c,d]=a.useState(0),[o,x]=a.useState(""),[u,m]=a.useState(!1),handleSubmit=async e=>{e.preventDefault(),m(!0);try{let e=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:l,amount:c,description:o})});if(!e.ok){let s=await e.text();alert("Failed to save: ".concat(s));return}alert("Expense saved successfully"),n("General"),d(0),x(""),s(null)}finally{m(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,t.jsx)("header",{className:"border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/",className:"text-gray-600 hover:text-gray-900",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Expense"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Record a new expense"})]})]})})}),(0,t.jsx)("main",{className:"max-w-2xl mx-auto px-4 py-8",children:(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"Category"}),(0,t.jsxs)("select",{className:"input-field",value:l,onChange:e=>n(e.target.value),children:[(0,t.jsx)("option",{children:"General"}),(0,t.jsx)("option",{children:"Supplies"}),(0,t.jsx)("option",{children:"Rent"}),(0,t.jsx)("option",{children:"Utilities"}),(0,t.jsx)("option",{children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"Amount"}),(0,t.jsx)("input",{type:"number",min:0,step:"0.01",className:"input-field",value:c,onChange:e=>d(Number(e.target.value||0)),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"Description"}),(0,t.jsx)("textarea",{className:"input-field",rows:3,value:o,onChange:e=>x(e.target.value),placeholder:"Enter expense description..."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(r.Z,{label:"Attach Receipt (optional)",value:e,onFileSelected:s})}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-lg font-medium text-gray-700",children:"Total Amount:"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",isFinite(c)?c.toFixed(2):"0.00"]})]})}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)(i(),{href:"/",className:"btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"btn-primary",children:u?"Saving...":"Save Expense"})]})]})})]})}},4300:function(e,s,l){"use strict";l.d(s,{Z:function(){return PhotoCapture}});var t=l(7437),a=l(2265);function PhotoCapture(e){let{label:s="Add Photo",onFileSelected:l,value:n}=e,i=a.useRef(null);return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:s}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{ref:i,type:"file",accept:"image/*",capture:"environment",onChange:e=>{var s,t;return l(null!==(t=null===(s=e.target.files)||void 0===s?void 0:s[0])&&void 0!==t?t:null)},className:"block w-full text-sm text-gray-900 file:mr-4 file:rounded-md file:border-0 file:bg-gray-100 file:px-4 file:py-2 file:text-sm file:font-medium file:text-gray-700 hover:file:bg-gray-200"}),n?(0,t.jsx)("span",{className:"text-xs text-gray-500 truncate max-w-[160px]",children:n.name}):null]})]})}}},function(e){e.O(0,[176,971,472,744],function(){return e(e.s=7444)}),_N_E=e.O()}]);